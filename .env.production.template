# =============================================================================
# MedicalCor Core - Production Environment Variables
# =============================================================================
# Copy this file to .env and fill in your production values
# NEVER commit .env to git!

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
# SECURITY: Use 'warn' or 'error' in production to reduce log verbosity
# Use 'info' only for debugging, 'debug' should never be used in production
LOG_LEVEL=warn
PORT=3000
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# SECURITY - API Authentication (Required)
# Generate with: openssl rand -hex 32
# -----------------------------------------------------------------------------
API_SECRET_KEY=your-32-byte-hex-secret-key-here

# SECURITY: Trust proxy header if behind load balancer (set to 'true' or comma-separated IPs)
TRUSTED_PROXY=true

# -----------------------------------------------------------------------------
# DATABASE (Required)
# PostgreSQL - Use Supabase, Railway, Neon, or your own PostgreSQL
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@host:5432/medicalcor?sslmode=require

# Supabase (optional - if using Supabase)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=eyJ...
# SUPABASE_SERVICE_ROLE_KEY=eyJ...

# -----------------------------------------------------------------------------
# HUBSPOT CRM (Required)
# Get from: HubSpot > Settings > Integrations > Private Apps
# -----------------------------------------------------------------------------
HUBSPOT_ACCESS_TOKEN=pat-na1-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
HUBSPOT_PORTAL_ID=12345678

# -----------------------------------------------------------------------------
# WHATSAPP - 360dialog (Required)
# Get from: 360dialog Partner Hub
# -----------------------------------------------------------------------------
WHATSAPP_API_KEY=your-360dialog-api-key
WHATSAPP_PHONE_NUMBER_ID=1234567890
WHATSAPP_BUSINESS_ACCOUNT_ID=1234567890
# Generate a random string for webhook verification
WHATSAPP_VERIFY_TOKEN=your-random-verify-token-here
# Get from 360dialog webhook configuration
WHATSAPP_WEBHOOK_SECRET=your-webhook-hmac-secret

# -----------------------------------------------------------------------------
# STRIPE PAYMENTS (Required)
# Get from: Stripe Dashboard > Developers > API keys
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxxxxx
# Get from: Stripe > Webhooks > Your endpoint > Signing secret
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# OPENAI (Required for AI scoring)
# Get from: platform.openai.com > API Keys
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o

# -----------------------------------------------------------------------------
# TRIGGER.DEV (Required for background tasks)
# Get from: trigger.dev > Your Project > API Keys
# -----------------------------------------------------------------------------
TRIGGER_API_KEY=tr_dev_xxxxxxxxxxxxxxxx
TRIGGER_SECRET_KEY=tr_sk_xxxxxxxxxxxxxxxx
# Leave empty for cloud, or set for self-hosted
# TRIGGER_API_URL=

# -----------------------------------------------------------------------------
# VOICE - Vapi.ai (Optional - for voice AI)
# Get from: vapi.ai dashboard
# -----------------------------------------------------------------------------
VAPI_API_KEY=your-vapi-api-key

# -----------------------------------------------------------------------------
# VOICE - Twilio (Optional - alternative to Vapi)
# Get from: Twilio Console
# -----------------------------------------------------------------------------
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+40212000000
# TWILIO_WEBHOOK_URL=https://your-domain.com/webhooks/voice

# -----------------------------------------------------------------------------
# REDIS (Optional - for distributed rate limiting)
# Only needed for multi-instance deployments
# -----------------------------------------------------------------------------
# REDIS_URL=redis://default:password@host:6379

# -----------------------------------------------------------------------------
# CORS (Optional - if frontend on different domain)
# -----------------------------------------------------------------------------
CORS_ORIGIN=https://your-frontend-domain.com

# -----------------------------------------------------------------------------
# OBSERVABILITY (Optional but recommended)
# -----------------------------------------------------------------------------
# Sentry for error tracking
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# OpenTelemetry (optional)
# OTEL_ENABLED=true
# OTEL_EXPORTER_OTLP_ENDPOINT=http://tempo:4318
# OTEL_SERVICE_NAME=medicalcor-api
